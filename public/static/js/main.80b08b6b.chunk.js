(this["webpackJsonpecommerce-front"]=this["webpackJsonpecommerce-front"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c(20),r=c.n(s),o=c(4),i=c(5),l=c(7),d=c(2),j=c(3),b="http://localhost:8000/api",u=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},m=function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(d.a)(Object(d.a)({},e),{},{count:1})),c=Array.from(new Set(c.map((function(e){return e._id})))).map((function(e){return c.find((function(t){return t._id===e}))})),localStorage.setItem("cart",JSON.stringify(c)),t())},h=function(){if("undefined"!==typeof window)return localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0},O=function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.map((function(c){c._id===e&&(c.count=t)})),localStorage.setItem("cart",JSON.stringify(c)))},p=function(e,t){return e.location.pathname===t?{color:"#ffffff",fontFamily:"cursive"}:{color:"#ff9900",fontFamily:"cursive"}};var f=Object(i.h)((function(e){var t=e.history;return Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top",style:{position:"relative"},children:[Object(a.jsxs)("a",{className:"navbar-brand",style:{color:"#ff9900",fontSize:"30px",fontFamily:"cursive"},href:"/",children:[Object(a.jsx)("i",{className:"fa fa-shopping-basket"}),"Radhey Supermart"]}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbar",children:Object(a.jsxs)("ul",{className:"nav ",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(o.b,{className:"nav-link",style:p(t,"/"),to:"/",children:[Object(a.jsx)("i",{className:"fa fa-home"}),"Home"]})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(o.b,{className:"nav-link",style:p(t,"/shop"),to:"/shop",children:[Object(a.jsx)("i",{className:"fa fa-shopping-bag"}),"Shop"]})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(o.b,{className:"nav-link",style:p(t,"/cart"),to:"/cart",children:[Object(a.jsx)("i",{className:"fa fa-shopping-cart"}),Object(a.jsx)("sup",{children:Object(a.jsx)("small",{style:{fontWeight:"500px",fontSize:"13px"},className:"cart-badge",children:h()})})]})}),u()&&0===u().user.role&&Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(o.b,{className:"nav-link",style:p(t,"/user/dashboard"),to:"/user/dashboard",children:[Object(a.jsx)("i",{className:"fa fa-bars"}),"Dashboard"]})}),u()&&1===u().user.role&&Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(o.b,{className:"nav-link",style:p(t,"/admin/dashboard"),to:"/admin/dashboard",children:[Object(a.jsx)("i",{className:"fa fa-clipboard-list"}),"Dashboard"]})}),!u()&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(o.b,{className:"nav-link",style:p(t,"/signin"),to:"/signin",children:[Object(a.jsx)("i",{className:"fa fa-sign-in"}),"Signin"]})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)(o.b,{className:"nav-link",style:p(t,"/signup"),to:"/signup",children:[Object(a.jsx)("i",{className:"fa fa-sign-in"}),"Signup"]})})]}),u()&&Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsxs)("span",{className:"nav-link",style:{cursor:"pointer",color:"#ff9900"},onClick:function(){return e=function(){t.push("/")},"undefined"!==typeof window&&localStorage.removeItem("jwt"),e(),fetch("".concat(b,"/signout"),{method:"GET"}).then((function(e){return e})).catch((function(e){return e}));var e},children:[Object(a.jsx)("i",{className:"fa fa-sign-out"}),"Signout"]})})]})})]})}));c(40);var x=function(){return Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsxs)("div",{className:"footer bg-dark text-center p-3",style:{bottom:"0px",width:"100%"},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("a",{className:"btn btn-social-icon btn-google",href:"http://google.com/+",children:Object(a.jsx)("i",{className:"fa fa-google-plus fa-lg",style:{color:"orange"}})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-facebook",href:"http://www.facebook.com/profile.php?id=",children:Object(a.jsx)("i",{className:"fa fa-facebook fa-lg",style:{color:"orange"}})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-linkedin",href:"http://www.linkedin.com/in/",children:Object(a.jsx)("i",{className:"fa fa-linkedin fa-lg",style:{color:"orange"}})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-twitter",href:"http://twitter.com/",children:Object(a.jsx)("i",{className:"fa fa-twitter fa-lg",style:{color:"orange"}})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-youtube",href:"http://youtube.com/",children:Object(a.jsx)("i",{className:"fa fa-youtube fa-lg",style:{color:"orange"}})}),Object(a.jsx)("a",{className:"btn btn-social-icon btn-envelope",href:"mailto:vishawjeet20905@gmail.com",children:Object(a.jsx)("i",{className:"fa fa-envelope-o fa-lg",style:{color:"orange"}})})]}),Object(a.jsxs)("h4",{style:{color:"orange",fontSize:"14px"},children:["copyright 2000 ",Object(a.jsx)("i",{className:"fa fa-copyright"})]})]})})};var g=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(f,{}),Object(a.jsxs)("div",{className:"jumbotron bg-dark container-fluid",style:{borderRadius:"0px",color:"orange",fontFamily:"cursive",position:"relative"},children:[Object(a.jsx)("h2",{children:e.title}),Object(a.jsx)("q",{className:"lead",children:e.description})]}),Object(a.jsx)("div",{className:e.className,children:e.children}),Object(a.jsx)(x,{})]})};var N=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(j.a)(e,2),c=t[0],s=t[1],r=c.name,i=c.email,u=c.password,m=c.error,h=c.success,O=function(e){return function(t){s(Object(d.a)(Object(d.a)({},c),{},Object(l.a)({error:!1},e,t.target.value)))}},p=function(e){fetch("".concat(b,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.err?s(Object(d.a)(Object(d.a)({},c),{},{error:e.err,success:!1})):s(Object(d.a)(Object(d.a)({},c),{},{name:"",email:"",password:"",error:"",success:!0}))})).catch((function(e){return console.log(e)}))};return Object(a.jsxs)(g,{title:"Signup Page",className:"container col-md-8 offset-md-2",description:"Sign up to node react ecommerce app",children:[Object(a.jsx)("div",{className:"alert alert-danger",style:{display:m?"":"none"},children:m}),Object(a.jsxs)("div",{className:"alert alert-info",style:{display:h?"":"none"},children:["New Account Is Created. ",Object(a.jsx)(o.b,{to:"/signin",children:"Signin"})]}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Name"}),Object(a.jsx)("input",{type:"text",onChange:O("name"),className:"form-control",value:r})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Email"}),Object(a.jsx)("input",{type:"email",onChange:O("email"),className:"form-control",value:i})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Password"}),Object(a.jsx)("input",{type:"password",onChange:O("password"),value:u,className:"form-control"})]}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault(),s(Object(d.a)(Object(d.a)({},c),{},{error:!1})),p({name:r,email:i,password:u})},className:"btn btn-dark",style:{color:"orange"},children:"Submit"})]})]})};var v=function(){var e=Object(n.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(j.a)(e,2),c=t[0],s=t[1],r=c.email,o=c.password,m=c.error,h=c.loading,O=c.redirectToReferrer,p=u().user,f=function(e){return function(t){s(Object(d.a)(Object(d.a)({},c),{},Object(l.a)({error:!1},e,t.target.value)))}},x=function(e){fetch("".concat(b,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.error?s(Object(d.a)(Object(d.a)({},c),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){s(Object(d.a)(Object(d.a)({},c),{},{redirectToReferrer:!0}))}))})).catch((function(e){return e}))};return Object(a.jsxs)(g,{title:"Signin Page",description:"Sign in to node react ecommerce app",className:"container col-md-8 offset-md-2",children:[Object(a.jsx)("div",{className:"alert alert-danger",style:{display:m?"":"none"},children:m}),h&&Object(a.jsx)("div",{className:"alert alert-info",children:Object(a.jsx)("h2",{children:"Loading..."})}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Email"}),Object(a.jsx)("input",{type:"email",onChange:f("email"),className:"form-control",value:r})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Password"}),Object(a.jsx)("input",{type:"password",onChange:f("password"),value:o,className:"form-control"})]}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault(),s(Object(d.a)(Object(d.a)({},c),{},{error:!1,loading:!0})),x({email:r,password:o})},className:"btn btn-dark ",style:{color:"orange"},children:"Submit"})]}),function(){if(O)return p&&1===p.role?Object(a.jsx)(i.a,{to:"/admin/dashboard"}):Object(a.jsx)(i.a,{to:"/user/dashboard"});u()&&i.a}()]})};var y=function(e){var t=e.item,c=e.url;return Object(a.jsx)("img",{src:"".concat(b,"/").concat(c,"/photo/").concat(t._id),alt:t.name,className:"img-fluid mt-3",style:{width:"250px",height:"200px",borderBottom:"2px ridge"}})};c(41);var k=function(e){var t=e.product;return Object(a.jsx)("div",{children:t&&Object(a.jsxs)("div",{className:"card card-cascade card-ecommerce",children:[Object(a.jsxs)("div",{className:"view view-cascade overlay",children:[Object(a.jsx)(y,{item:t,url:"product"}),Object(a.jsx)("a",{href:"/product/".concat(t._id),children:Object(a.jsx)("div",{className:"mask rgba-white-slight"})})]}),Object(a.jsxs)("div",{className:"card-body card-body-cascade text-center",children:[Object(a.jsx)("h4",{className:"card-title",children:Object(a.jsx)("strong",{children:t.name})}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsx)("strong",{children:Object(a.jsxs)("span",{className:"float-left mt-2",children:["\u20b9 ",t.price," ",Object(a.jsxs)("span",{className:"discount",children:["\u20b9",Object(a.jsxs)("strike",{children:[2*t.price,t.quantity>50&&t.quantity>0?Object(a.jsx)("span",{className:"badge badge-pill badge-success",children:"in stock"}):Object(a.jsx)("span",{className:"badge badge-pill badge-info",children:"limited"}),t.quantity<=0&&Object(a.jsx)("span",{className:"badge badge-pill badge-danger",children:"out of stock"})]})]})]})}),Object(a.jsxs)(o.b,{to:"/product/".concat(t._id),children:[" ",Object(a.jsx)("span",{className:"float-right",children:Object(a.jsxs)("button",{className:"btn btn-dark",style:{color:"orange"},children:[Object(a.jsx)("i",{className:"fa fa-eye"}),"view"]})})]}),Object(a.jsx)("button",{className:"btn btn-dark",onClick:function(){m(t,(function(){}))},children:Object(a.jsx)("span",{className:"float-right mr-0",children:Object(a.jsx)(o.b,{to:"/cart",children:Object(a.jsx)("i",{className:"fa fa-shopping-cart",style:{color:"orange"}})})})})]})]})]})})},S=c(28),w=c.n(S);var C=function(){var e=Object(n.useState)({categories:[],category:"",search:"",results:[],searched:!1,loading:!1}),t=Object(j.a)(e,2),c=t[0],s=t[1],r=c.categories,o=c.category,i=c.search,u=c.results,m=c.searched,h=function(){fetch("".concat(b,"/category"),{method:"GET",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):s(Object(d.a)(Object(d.a)({},c),{},{categories:e}))}))},O=function(){i&&function(e){var t=w.a.stringify(e);return fetch("".concat(b,"/products/search?").concat(t),{method:"GET"}).then((function(e){return e.json()}))}({search:i,category:o}).then((function(e){e.error?console.log(e.error):s(Object(d.a)(Object(d.a)({},c),{},{results:e,searched:!0}))})).catch((function(e){return console.log(e)}))},p=function(e){e.preventDefault(),O()},f=function(e){return function(t){var a;s(Object(d.a)(Object(d.a)({},c),{},(a={},Object(l.a)(a,e,t.target.value),Object(l.a)(a,"searched",!1),Object(l.a)(a,"loading",!0),a)))}};Object(n.useEffect)((function(){h()}),[]);var x=function(e,t){if(e){if(t.length<=0)return"No product found , Please provide suitable category!!!";if(t.length>0)return"Found ".concat(t.length," products")}};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{style:{fontWeight:"700"},children:"Search"}),Object(a.jsxs)("div",{className:"row text-center",children:[Object(a.jsx)("div",{className:"container-fluid mb-3 mt-3",style:{margin:"0px"},children:Object(a.jsx)("form",{onSubmit:p,children:Object(a.jsxs)("span",{className:"input-group-text bg-dark",style:{padding:"3px"},children:[Object(a.jsxs)("div",{className:"input-group input-group-lg",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsxs)("select",{className:"btn",onChange:f("category"),style:{color:"orange"},children:[Object(a.jsx)("option",{className:"bg-dark",value:"Category",children:"all"}),r.map((function(e,t){return Object(a.jsx)("option",{value:e._id,className:"bg-dark",children:e.name},t)}))]})}),Object(a.jsx)("input",{type:"search",className:"form-control",onChange:f("search"),placeholder:"Search"})]}),Object(a.jsx)("div",{className:"btn input-group-append",style:{border:"none"},children:Object(a.jsx)("button",{className:"btn btn-transparent",children:Object(a.jsx)("i",{className:"fa fa-search fa-large",style:{color:"orange"}})})})]})})}),Object(a.jsx)("div",{className:"container-fluid mb-3 mt-3",children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:"mt-4 mb-4",children:x(m,e)}),Object(a.jsx)("div",{className:"row",children:m&&0!==i.length&&e.map((function(e,t){return Object(a.jsx)("div",{className:"col-12 col-sm-4 col-md-4 col-xl-3 mb-5",id:"cards",children:Object(a.jsx)(k,{product:e},t)},t)}))})]})}(u)})]})]})};var P=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),o=Object(j.a)(r,2),i=o[0],l=o[1],d=Object(n.useState)(!1),u=Object(j.a)(d,2),m=(u[0],u[1]),h=function(e){return fetch("".concat(b,"/products?sortBy=").concat(e,"&order=desc&limit=6"),{method:"GET"}).then((function(e){return e.json()}))};return Object(n.useEffect)((function(){h("createdAt").then((function(e){e.error?m(e.error):l(e)})).catch((function(e){return console.log(e)})),h("sold").then((function(e){e.error?m(e.error):s(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.jsxs)(g,{title:"Home Page",description:"IN A WORLD FULL OF TRENDS. I WANT TO REMAIN A CLASSIC",cites:"IMAN",className:"container-fluid",children:[Object(a.jsx)("h2",{className:"mb-4",style:{fontWeight:"700"},children:"Best Sellers"}),Object(a.jsx)("div",{className:"row text-center",children:c.map((function(e,t){return Object(a.jsx)("div",{className:" col-12 col-sm-4 col-md-4 col-xl-3 mb-5",id:"cards",children:Object(a.jsx)(k,{product:e})},t)}))}),Object(a.jsx)("h2",{className:"mb-4",style:{fontWeight:"700"},children:"New Arrivals"}),Object(a.jsx)("div",{className:"row text-center",children:i.map((function(e,t){return Object(a.jsx)("div",{className:"col-12 col-sm-4 col-md-4 col-xl-3 mb-5",id:"cards",children:Object(a.jsx)(k,{product:e})},t)}))}),Object(a.jsx)(C,{})]})},T=c(16),A=function(e){var t=e.component,c=Object(T.a)(e,["component"]);return Object(a.jsx)(i.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){return u()?Object(a.jsx)(t,Object(d.a)({},e)):Object(a.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},I=c(15),D=c.n(I);var _=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],r=u(),i=r.user,l=i._id,d=i.email,m=i.name,h=i.role,O=(i.createdAt,r.token),p=function(e,t){(function(e,t){return fetch("".concat(b,"/order/by/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()}))})(e,t).then((function(e){e.error?console.log(e.error):s(e)}))};return Object(n.useEffect)((function(){p(l,O)}),[]),Object(a.jsx)("div",{children:Object(a.jsx)(g,{title:"Dashboard",description:"Hello ".concat(m),className:"container-fluid",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-12 col-sm-3 mb-5",style:{fontFamily:"cursive"},children:Object(a.jsxs)("div",{className:"card bg-dark",children:[Object(a.jsx)("h4",{className:"card-header",style:{color:"orange"},children:"User Links"}),Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("strong",{children:Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)(o.b,{className:"nav-link",to:"/cart",style:{color:"black"},children:[Object(a.jsx)("i",{className:"fa fa-hand-point-right"}),"my cart"]})})}),Object(a.jsx)("strong",{children:Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)(o.b,{className:"nav-link",to:"/profile/".concat(l),style:{color:"black"},children:[Object(a.jsx)("i",{className:"fa fa-hand-point-right"})," update profile"]})})}),1===h&&Object(a.jsx)("strong",{children:Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)(o.b,{className:"nav-link",to:"/admin/dashboard",style:{color:"black"},children:[Object(a.jsx)("i",{className:"fa fa-hand-point-right"})," admin dashboard"]})})})]})]})}),Object(a.jsxs)("div",{className:"col-12 col-sm-9",style:{fontFamily:"cursive"},children:[Object(a.jsxs)("div",{className:"card mb-5 bg-dark",children:[Object(a.jsx)("h3",{className:"card-header",style:{color:"orange"},children:"User Information"}),Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("li",{className:"list-group-item",children:m}),Object(a.jsx)("li",{className:"list-group-item",children:d}),Object(a.jsxs)("li",{className:"list-group-item",children:[1===h?"admin":"registered User",Object(a.jsx)("i",{className:"fa fa-check-circle",style:{color:"green"}})]})]})]}),function(e){return Object(a.jsxs)("div",{className:"card mb-5 bg-dark",children:[Object(a.jsx)("h3",{className:"card-header",style:{color:"orange"},children:"Purchase history"}),Object(a.jsx)("ul",{className:"list-group",children:Object(a.jsx)("li",{className:"list-group-item",children:e.map((function(e,t){return Object(a.jsxs)("div",{className:"mt-3 mb-3",children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h4",{children:D()(e.createdAt).format("DD MMM YY")}),e.products.map((function(t,c){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"card pmd-card",children:Object(a.jsxs)("div",{className:"card-body d-flex flex-row",children:[Object(a.jsxs)("div",{className:"media-body",children:[Object(a.jsx)("h5",{className:"card-title",style:{fontFamily:"cursive"},children:t.name}),Object(a.jsxs)("h6",{children:["price: \u20b9",t.price]}),Object(a.jsxs)("h6",{children:["status : ",e.status]})]}),Object(a.jsx)("img",{className:"ml-3",src:"".concat(b,"/product/photo/").concat(t._id),width:"82",height:"82"})]})})},c)}))]},t)})).reverse()})})]})}(c)]})]})})})},E=function(e){var t=e.component,c=Object(T.a)(e,["component"]);return Object(a.jsx)(i.b,Object(d.a)(Object(d.a)({},c),{},{render:function(e){return u()&&1===u().user.role?Object(a.jsx)(t,Object(d.a)({},e)):Object(a.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))};var F=function(){var e=u().user,t=e.email,c=e.name,n=e.role;return Object(a.jsx)("div",{children:Object(a.jsx)(g,{title:"Dashboard",description:"Hello ".concat(c),className:"container-fluid",children:Object(a.jsxs)("div",{className:"row",style:{fontFamily:"cursive"},children:[Object(a.jsx)("div",{className:"col-12 col-sm-4 mb-5",children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h4",{className:"card-header bg-dark",style:{color:"orange"},children:"Admin Links"}),Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("strong",{children:Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)(o.b,{className:"nav-link",to:"/create/category",style:{color:"black"},children:[Object(a.jsx)("i",{className:"fa fa-hand-point-right"}),"create category"]})})}),Object(a.jsx)("strong",{children:Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)(o.b,{className:"nav-link",to:"/create/product",style:{color:"black"},children:[Object(a.jsx)("i",{className:"fa fa-hand-point-right"})," create product"]})})}),Object(a.jsx)("strong",{children:Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)(o.b,{className:"nav-link",to:"/admin/orders",style:{color:"black"},children:[Object(a.jsx)("i",{className:"fa fa-hand-point-right"}),"view orders"]})})}),Object(a.jsx)("strong",{children:Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)(o.b,{className:"nav-link",to:"/admin/products",style:{color:"black"},children:[Object(a.jsx)("i",{className:"fa fa-hand-point-right"}),"manage products"]})})}),Object(a.jsx)("strong",{children:Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsxs)(o.b,{className:"nav-link",to:"/user/dashboard",style:{color:"black"},children:[Object(a.jsx)("i",{className:"fa fa-hand-point-right"}),"user dashboard"]})})})]})]})}),Object(a.jsx)("div",{className:"col-12 col-sm-8",children:Object(a.jsxs)("div",{className:"card mb-5 bg-dark",children:[Object(a.jsx)("h3",{className:"card-header",style:{color:"orange"},children:"Admin Information"}),Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("li",{className:"list-group-item",children:c}),Object(a.jsx)("li",{className:"list-group-item",children:t}),Object(a.jsx)("li",{className:"list-group-item",children:1===n?"Admin":"Registered User"})]})]})})]})})})},q=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(j.a)(r,2),l=i[0],d=i[1],m=Object(n.useState)(!1),h=Object(j.a)(m,2),O=h[0],p=h[1],f=u(),x=f.user,N=f.token,v=function(e){d(""),s(e.target.value)},y=function(e){e.preventDefault(),d(""),p(!1),k(x._id,N,{name:c})},k=function(e,t,c){fetch("".concat(b,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){e.error?d(!0):(d(""),p(!0))})).catch((function(e){return console.log(e)}))},S=function(){if(O)return Object(a.jsx)("h3",{className:"text-success",children:"Category is created"})},w=function(){if(l)return Object(a.jsx)("h3",{className:"text-danger",children:"Category should be unique"})};return Object(a.jsx)(g,{title:"Create Category",description:"Hello ".concat(x.name," , Ready to add a new category"),className:"container-fluid",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(a.jsxs)("form",{onSubmit:y,children:[S(),w(),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Name"}),Object(a.jsx)("input",{type:"text",className:"form-control",value:c,autoFocus:!0,onChange:v,required:!0})]}),Object(a.jsx)("button",{className:"btn btn-dark",style:{color:"orange"},children:"Create Category"}),Object(a.jsx)("div",{className:"mt-5",children:Object(a.jsxs)(o.b,{to:"/admin/dashboard",style:{color:"black"},children:["Back to dashboard",Object(a.jsx)("i",{className:"fa fa-hand-point-left"})]})})]})})})})},R=function(){var e=Object(n.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:!1,createdProduct:!1,redirectToProfile:!1,formData:""}),t=Object(j.a)(e,2),c=t[0],s=t[1],r=c.name,m=c.description,h=c.price,O=c.categories,p=(c.category,c.quantity),f=(c.loading,c.error),x=c.createdProduct,N=c.redirectToProfile,v=c.formData,y=u(),k=y.user,S=y.token;Object(n.useEffect)((function(){w()}),[]);var w=function(){fetch("".concat(b,"/category"),{method:"GET",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return s(Object(d.a)(Object(d.a)({},c),{},{categories:e,formData:new FormData}))})).catch((function(e){return console.log(e)}))},C=function(e){e.preventDefault(),s(Object(d.a)(Object(d.a)({},c),{},{error:!0,createdProduct:!1,loading:!0})),function(e,t,a){fetch("".concat(b,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).then((function(e){e.error?s(Object(d.a)(Object(d.a)({},c),{},{error:!0,createdProduct:!1})):s(Object(d.a)(Object(d.a)({},c),{},{name:"",description:"",error:!1,photo:"",price:"",quantity:"",loading:!1,createdProduct:!0,redirectToProfile:!0}))})).catch((function(e){return console.log(e)}))}(k._id,S,v)},P=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;v.set(e,a),s(Object(d.a)(Object(d.a)({},c),{},Object(l.a)({},e,a)))}};return Object(a.jsx)(g,{title:"Create Category",description:"Hello ".concat(k.name," , Ready to add a new product"),className:"container-fluid",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8 offset-md-2",children:[Object(a.jsx)("div",{className:"alert alert-danger",style:{display:f?"":"none"},children:"All fields are required!!!"}),Object(a.jsx)("div",{className:"alert alert-info",style:{display:x?"":"none"},children:Object(a.jsx)("h2",{children:"Product is created"})}),Object(a.jsxs)("form",{className:"mb-3",onSubmit:C,children:[Object(a.jsx)("h4",{children:"Post Photo"}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("label",{className:"btn btn-secondary",children:Object(a.jsx)("input",{type:"file",onChange:P("photo"),name:"photo",accept:"image/*"})})}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Name"}),Object(a.jsx)("input",{type:"text",onChange:P("name"),className:"form-control",value:r})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Description"}),Object(a.jsx)("textarea",{onChange:P("description"),maxLength:"200",className:"form-control",value:m})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Price"}),Object(a.jsx)("input",{type:"number",onChange:P("price"),className:"form-control",value:h})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Category"}),Object(a.jsxs)("select",{onChange:P("category"),className:"form-control",children:[Object(a.jsx)("option",{children:"Please select"}),O&&O.map((function(e,t){return Object(a.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Shipping"}),Object(a.jsxs)("select",{onChange:P("shipping"),className:"form-control",children:[Object(a.jsx)("option",{children:"Please select"}),Object(a.jsx)("option",{value:"0",children:"No"}),Object(a.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Quantity"}),Object(a.jsx)("input",{type:"number",onChange:P("quantity"),className:"form-control",value:p})]}),Object(a.jsx)("button",{className:"btn btn-dark",style:{color:"orange"},children:"Create Product"}),Object(a.jsx)(o.b,{to:"/admin/dashboard",children:Object(a.jsx)("button",{className:"btn btn-dark ml-3",style:{color:"orange"},children:"back"})})]}),function(){if(N)return Object(a.jsx)(i.a,{to:"/admin/dashboard"})}()]})})})},J=c(30);var B=function(e){var t=e.categories,c=e.handleCategory,s=Object(n.useState)([]),r=Object(j.a)(s,2),o=r[0],i=r[1];return t&&t.map((function(e,t){return Object(a.jsxs)("li",{className:"list-unstyled",children:[Object(a.jsx)("input",{type:"checkbox",onChange:(n=e._id,function(){var e=o.indexOf(n),t=Object(J.a)(o);-1===e?t.push(n):t.splice(e,1),i(t),c(t)}),value:o.indexOf(-1===e._id),className:"form-check-input"}),Object(a.jsx)("label",{className:"form-control-label",children:e.name})]},t);var n}))},z=[{_id:0,name:"any",arr:[]},{_id:1,name:"0 to 49",arr:[0,49]},{_id:2,name:"50 to 149",arr:[50,149]},{_id:3,name:"150 to 249",arr:[150,249]},{_id:4,name:"250 to 499",arr:[250,499]},{_id:5,name:"More than 500",arr:[500,3e3]}];var U=function(e){var t=e.prices,c=e.handleCategory,s=Object(n.useState)(0),r=Object(j.a)(s,2),o=(r[0],r[1]),i=function(e){c(e.target.value),o(e.target.value)};return t&&t.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"radio",onChange:i,value:"".concat(e._id),name:e,className:"mr-2 ml-2"}),Object(a.jsx)("label",{className:"form-control-label",children:e.name})]},t)}))};var G=Object(i.h)((function(e){var t=Object(n.useState)(!1),c=Object(j.a)(t,2),s=c[0],r=c[1],o=Object(n.useState)([]),i=Object(j.a)(o,2),l=i[0],u=i[1],m=Object(n.useState)(!1),h=Object(j.a)(m,2),O=(h[0],h[1]),p=Object(n.useState)(6),f=Object(j.a)(p,2),x=f[0],N=(f[1],Object(n.useState)(0)),v=Object(j.a)(N,2),y=v[0],S=v[1],w=Object(n.useState)(0),C=Object(j.a)(w,2),P=(C[0],C[1]),T=Object(n.useState)([]),A=Object(j.a)(T,2),I=A[0],D=A[1],_=Object(n.useState)({filters:{category:[],price:[]}}),E=Object(j.a)(_,2),F=E[0],q=E[1];Object(n.useEffect)((function(){R(),J()}),[]);var R=function(){G().then((function(e){e.error?O(!0):u(e)})).catch((function(e){return console.log(e)}))},J=function(e){M(y,x,e).then((function(e){e.error?O(e.error):(D(e),P(e.size),S(0))}))},G=function(){return fetch("".concat(b,"/category"),{method:"GET",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()}))},M=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={skip:e,limit:t,filters:c};return fetch("".concat(b,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()}))},L=function(e,t){var c=Object(d.a)({},F);if(c.filters[t]=e,"price"==t){var a=H(e);c.filters[t]=a}J(F.filters),q(c)},H=function(e){var t=z,c=[];for(var a in t)t[a]._id===parseInt(e)&&(c=t[a].arr);return c},W=s?"show":"";return Object(a.jsx)(g,{title:"Shop Page",description:"Here you shop what you want",className:"container-fluid mb-5",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-12 col-sm-3 mb-3",children:[Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark pmd-navbar pmd-z-depth",onClick:function(){r(!s)},children:Object(a.jsx)("h6",{className:"navbar-brand float-left",children:"Filter"})}),Object(a.jsx)("section",{className:"collapse"+W,id:"pmd-main",children:Object(a.jsx)("aside",{id:"basicSidebar",className:"pmd-sidebar bg-light pmd-z-depth",role:"navigation",children:Object(a.jsxs)("ul",{className:"nav flex-column pmd-sidebar-nav",children:[Object(a.jsxs)("li",{className:"nav-item",children:[Object(a.jsxs)("a",{className:"nav-link","data-toggle":"collapse",href:"#profile",role:"button","aria-expanded":"true","aria-controls":"inbox",children:[Object(a.jsx)("i",{className:"fa fa-filter float-left pmd-list-icon pmd-sm",style:{color:"black"}}),Object(a.jsx)("span",{className:"media-body ",style:{color:"black"},children:"Filter by categories"}),Object(a.jsx)("i",{className:"fa fa-ellipsis-v md-light float-right ml-2 pmd-sm",style:{color:"black"}})]}),Object(a.jsx)("ul",{className:"collapse show",id:"profile",children:Object(a.jsx)(B,{categories:l,handleCategory:function(e){return L(e,"category")}})})]}),Object(a.jsxs)("li",{className:"nav-item",children:[Object(a.jsxs)("a",{className:"nav-link","data-toggle":"collapse",href:"#profile1",role:"button","aria-expanded":"true","aria-controls":"inbox",children:[Object(a.jsx)("i",{className:"fa fa-filter float-left pmd-list-icon pmd-sm",style:{color:"black"}}),Object(a.jsx)("span",{className:"media-body",style:{color:"black"},children:"Filter by price"}),Object(a.jsx)("i",{className:"fa fa-ellipsis-v float-right md-light ml-2 pmd-sm",style:{color:"black"}})]}),Object(a.jsx)("ul",{className:"collapse show",id:"profile1",children:Object(a.jsx)(U,{prices:z,handleCategory:function(e){return L(e,"price")}})})]})]})})})]}),Object(a.jsxs)("div",{className:"col-12 col-sm-9",children:[Object(a.jsx)("h4",{className:"mb-4",children:"Products"}),Object(a.jsxs)("div",{className:"row text-center",children:[0===I.length&&Object(a.jsx)("h5",{className:"container",children:"Products not found!!!"}),I&&I.map((function(e,t){return Object(a.jsx)("div",{className:"col-12 col-sm-4 mt-3 mb-3",children:Object(a.jsx)(k,{product:e})},t)}))]}),Object(a.jsx)("hr",{}),0===I.length&&Object(a.jsx)("button",{className:"btn btn-dark",style:{color:"orange"},onClick:e.history.goBack,children:"back"}),0!==I.length&&I.length>=x&&Object(a.jsx)("button",{onClick:function(e){M(y+x,x,e.filters).then((function(e){e.error?O(e.error):(D(e),P(e.size),S(0))}))},className:"btn btn-warning mb-5",children:"Load More"})]})]})})}));var M=function(e){var t=e.result,c=Object(n.useState)(!1),s=Object(j.a)(c,2),r=s[0],o=s[1];return Object(a.jsxs)("div",{className:"container-fluid",children:[t&&Object(a.jsxs)("div",{className:"card pmd-card",children:[Object(a.jsxs)("div",{className:"card-body d-flex flex-row",children:[Object(a.jsxs)("div",{className:"media-body",children:[Object(a.jsx)("h2",{className:"card-title",style:{fontFamily:"cursive"},children:t.name}),Object(a.jsx)("hr",{}),Object(a.jsx)("p",{className:"card-subtitle",style:{fontFamily:"cursive"},children:t.description})]}),Object(a.jsx)("img",{className:"ml-3",src:"".concat(b,"/product/photo/").concat(t._id),width:"152",height:"152"})]}),Object(a.jsxs)("div",{className:"card-footer",children:[Object(a.jsxs)("div",{className:"d-inline-block mr-md-5",children:[Object(a.jsx)("strong",{children:Object(a.jsxs)("h6",{className:"mt-2 mr-2 d-inline-block",children:["\u20b9 ",t.price]})}),Object(a.jsx)("strong",{children:Object(a.jsxs)("h6",{className:"mt-2 mr-2 d-inline-block",children:[" \u20b9 ",Object(a.jsxs)("strike",{style:{color:"red"},children:[2*t.price," "]})]})}),Object(a.jsx)("button",{className:"btn btn-dark d-inline-block mr-2",onClick:function(){m(t,(function(){o(!0)}))},style:{color:"orange"},children:Object(a.jsx)("i",{className:"fa fa-shopping-cart"})}),Object(a.jsxs)("div",{className:"d-inline-block mt-2 mb-4 ml-2",children:[Object(a.jsx)("i",{className:"fa fa-star",style:{color:t.sold>0?"orange":"black"}}),Object(a.jsx)("i",{className:"fa fa-star",style:{color:t.sold>=20?"orange":"black"}}),Object(a.jsx)("i",{className:"fa fa-star",style:{color:t.sold>=40?"orange":"black"}}),Object(a.jsx)("i",{className:"fa fa-star",style:{color:t.sold>=60?"orange":"black"}}),Object(a.jsx)("i",{className:"fa fa-star",style:{color:t.sold>=80?"orange":"black"}}),"(",t.sold,")"]})]}),Object(a.jsxs)("div",{className:"d-inline-block mr-md-5",children:[Object(a.jsx)("i",{className:"fa fa-warning fa-2x d-inline-block","data-toggle":"popover",title:"No-contact Delivery","data-content":"Delivery Associate will place the order on your doorstep and step back to maintain a 2-meter distance.No customer signatures are required at the time of delivery.For Pay-on-Delivery orders, we recommend paying using Credit card/Debit card/Netbanking via the pay-link sent via SMS at the time of delivery. To pay by cash, place cash on top of the delivery box and step back."}),Object(a.jsx)("i",{className:"fa fa-retweet fa-2x ml-2  d-inline-block","data-toggle":"popover",title:"10 Days Replacement Only","data-content":"10 Days Replacement, OnlyThis item is eligible for free replacement, within 10 days of delivery, in an unlikely event of damaged, defective or different item delivered to you. Please keep the item in its original condition, with outer box or case, accessories, CDs, user manual, warranty cards, scratch cards, and other accompaniments in manufacturer packaging for a successful return pick-up. We may contact you to ascertain the damage or defect in the product prior to issuing replacement."}),Object(a.jsx)("i",{className:"fa fa-truck fa-2x ml-2  d-inline-block","data-toggle":"popover",title:"Radhey Fast Delivery","data-content":"Radhey directly manages delivery for this product. Order delivery tracking to your doorstep is available."}),Object(a.jsx)("br",{})]}),Object(a.jsxs)("h5",{className:"d-inline-block mr-md-2",children:["Free delivery on orders over ",Object(a.jsx)("i",{className:"fa fa-rupee"}),"499"]})]})]}),function(){if(r)return Object(a.jsx)(i.a,{to:"/cart"})}()]})};var L=function(){var e=Object(i.g)().productId,t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],r=c[1],o=Object(n.useState)([]),l=Object(j.a)(o,2),d=l[0],u=l[1];return Object(n.useEffect)((function(){!function(e){fetch("".concat(b,"/product/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}(e),function(e){fetch("".concat(b,"/products/related/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return u(e)})).catch((function(e){return console.log(e)}))}(e)}),[e]),Object(a.jsxs)(g,{title:"Home Page",description:"Node React Ecommerce",className:"container-fluid",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:0!==s.length&&Object(a.jsx)(M,{result:s})})}),Object(a.jsx)("h3",{className:"text-muted mb-4 mt-4",style:{fontWeight:"700"},children:"Related Products"}),Object(a.jsxs)("div",{className:"row",children:[0===d.length&&Object(a.jsx)("h4",{className:"container-fluid",children:"no related products found"}),0!==d.length&&d.map((function(e,t){return Object(a.jsx)("div",{className:"col-12 col-sm-4 col-md-4 col-xl-3 mb-5 text-center",children:Object(a.jsx)(k,{product:e})},t)}))]})]})};var H=function(e){var t,c=e.result,s=e.setRun,r=void 0===s?function(e){return e}:s,i=e.run,l=void 0===i?void 0:i,d=Object(n.useState)(c.count),u=Object(j.a)(d,2),m=u[0],h=u[1];return Object(a.jsx)("div",{className:"container-fluid",children:c&&Object(a.jsxs)("div",{className:"card pmd-card",children:[Object(a.jsxs)("div",{className:"card-body d-flex flex-row",children:[Object(a.jsxs)("div",{className:"media-body",children:[Object(a.jsx)("h3",{className:"card-title",style:{fontFamily:"cursive"},children:c.name}),Object(a.jsx)("hr",{}),Object(a.jsx)("p",{id:"cartDesc",className:"card-subtitle",style:{fontFamily:"cursive"},children:(t=c.description,t.length>40?t.substring(0,40)+" read more...":t)})]}),Object(a.jsx)("img",{className:"ml-3",src:"".concat(b,"/product/photo/").concat(c._id),width:"152",height:"152"})]}),Object(a.jsxs)("div",{className:"card-footer",children:[Object(a.jsxs)("div",{className:"d-inline-block mr-md-5",children:[Object(a.jsx)("strong",{children:Object(a.jsxs)("h6",{className:"mt-2 mr-2 d-inline-block",children:["\u20b9 ",c.price]})}),Object(a.jsx)("strong",{children:Object(a.jsxs)("h6",{className:"mt-2 mr-2 d-inline-block",children:[" \u20b9 ",Object(a.jsxs)("strike",{style:{color:"red"},children:[2*c.price," "]})]})})]}),Object(a.jsxs)("div",{className:"d-inline-block",children:[Object(a.jsxs)("button",{onClick:function(){!function(e){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(c,a){c._id===e&&t.splice(a,1)})),localStorage.setItem("cart",JSON.stringify(t)))}(c._id),r(!l)},className:"btn btn-danger mt-2 mb-2 d-inline-block",children:[Object(a.jsx)("i",{className:"fas fa-cart"}),"Remove"]}),function(){return Object(a.jsx)("div",{className:"d-inline-block ml-4",children:Object(a.jsx)("div",{className:"input-group mb-3",children:Object(a.jsx)("input",{type:"number",className:"form-control",style:{maxWidth:"70px"},value:m,onChange:(e=c._id,function(t){r(!l),h(t.target.value<=1?1:t.target.value),t.target.value>=1&&t.target.value<=c.quantity&&O(e,t.target.value),t.target.value>=1&&t.target.value>c.quantity&&(O(e,c.quantity),h(t.target.value<=c.quantity?t.target.value:c.quantity))})})})});var e}(),Object(a.jsxs)(o.b,{to:"/product/".concat(c._id),children:[" ",Object(a.jsx)("span",{className:"d-inline-block ml-3",children:Object(a.jsxs)("button",{className:"btn btn-dark",style:{color:"orange"},children:[Object(a.jsx)("i",{className:"fa fa-eye"}),"view"]})})]})]})]})]})})},W=c(29),Y=c.n(W),K=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jammu and Kashmir","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttarakhand","Uttar Pradesh","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli","Daman and Diu","Delhi","Lakshadweep","Puducherry"];var Q=function(e){var t=e.products,c=e.setRun,s=void 0===c?function(e){return e}:c,r=e.run,i=void 0===r?void 0:r,m=Object(n.useState)({success:!1,clientToken:null,error:"",instance:{},address:"",loading:!1}),h=Object(j.a)(m,2),O=h[0],p=h[1],f=Object(n.useState)({area:"",city:"",state:"",phoneNumber:""}),x=Object(j.a)(f,2),g=x[0],N=x[1],v=u()&&u().user._id,y=u()&&u().token,k=function(){return t.reduce((function(e,t){return e+t.count*t.price}),0)};Object(n.useEffect)((function(){!function(e,t){P(e,t).then((function(e){p(Object(d.a)(Object(d.a)({},O),{},{clientToken:e.clientToken}))})).catch((function(e){p(Object(d.a)(Object(d.a)({},O),{},{error:e}))}))}(v,y)}),[]);var S,w,C,P=function(e,t){return fetch("".concat(b,"/braintree/getToken/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()}))},T=O.address,A=function(){p({loading:!0});O.instance.requestPaymentMethod().then((function(e){var c={paymentMethodNonce:e.nonce,amount:k()};(function(e,t,c){return fetch("".concat(b,"/braintree/payment/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()}))})(v,y,c).then((function(e){if(e.message)p(Object(d.a)(Object(d.a)({},O),{},{error:e.message,loading:!1}));else{var c={products:t,transaction_id:e.transaction.id,amount:e.transaction.amount,address:T};!function(e,t,c){fetch("".concat(b,"/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:c})}).then((function(e){return e.json()}))}(v,y,c),p(Object(d.a)(Object(d.a)({},O),{},{success:!0})),a=function(){s(!i),p({loading:!1,success:!0})},void 0!==typeof window&&(localStorage.removeItem("cart"),a())}var a})).catch((function(e){p(Object(d.a)(Object(d.a)({},O),{},{loading:!1,error:e.message}))}))})).catch((function(e){p(Object(d.a)(Object(d.a)({},O),{},{loading:!1,error:e.message}))}))},I=function(e){return function(t){N(Object(d.a)(Object(d.a)({},g),{},Object(l.a)({},e,t.target.value))),D()}},D=function(){var e=g.area+" , "+g.city+" , "+g.state+"    and     phone number : "+g.phoneNumber;p(Object(d.a)(Object(d.a)({},O),{},{address:e}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:"mb-4",children:"Your Cart Summary"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("h3",{children:["Total : \u20b9",k()]}),(C=O.success,Object(a.jsx)("div",{className:"alert alert-info",style:{display:C?"":"none"},children:"Transaction Successfull"})),(w=O.loading,Object(a.jsx)("div",{className:"alert alert-warning",style:{display:w?"":"none"},children:w&&"Loading... please don't back or refresh the page"})),(S=O.error,Object(a.jsx)("div",{className:"alert alert-danger",style:{display:S?"":"none"},children:S})),u()?Object(a.jsx)("div",{onBlur:function(){return p(Object(d.a)(Object(d.a)({},O),{},{error:""}))},children:null!==O.clientToken&&t.length>0?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"group-group mb-3",children:[Object(a.jsx)("label",{className:"text-muted",children:"Area:"}),Object(a.jsx)("input",{onChange:I("area"),className:"form-control",value:g.area,placeholder:"street and area",required:!0}),Object(a.jsx)("label",{className:"text-muted",children:"City :"}),Object(a.jsx)("input",{onChange:I("city"),className:"form-control",value:g.city,placeholder:"city",required:!0}),Object(a.jsx)("label",{className:"text-muted",children:"State :"}),Object(a.jsxs)("select",{onChange:I("state"),className:"btn btn-transparent form-control",style:{color:"black",border:"1px black ridge"},children:[Object(a.jsx)("option",{value:"",children:"select"}),K.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t)}))]}),Object(a.jsx)("label",{className:"text-muted",children:"Phone No. :"}),Object(a.jsx)("input",{type:"tel",onChange:I("phoneNumber"),className:"form-control",value:g.phoneNumber,maxLength:"10",placeholder:"+91",pattern:"[0-9]{3}-[0-9]{4}-[0-9]{3}",required:!0})]}),Object(a.jsx)(Y.a,{options:{authorization:O.clientToken,paypal:{flow:"vault"}},onInstance:function(e){return O.instance=e}}),g.city&&10===g.phoneNumber.length&&g.state&&Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:A,className:"btn btn-success mt-2 mb-2 btn-block",children:"Pay"})})]}):null}):Object(a.jsx)(o.b,{to:"/signin",children:Object(a.jsx)("button",{className:"btn btn-danger mt-2 mb-2",children:"Please Signin for Checkout"})})]})};var V=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(j.a)(r,2),l=i[0],d=i[1];return Object(n.useEffect)((function(){s(function(){if("undefined"!==typeof window)return localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]}())}),[l]),Object(a.jsx)(g,{title:"Here's your cart",description:"putting the cart before thehorse",className:"container-fluid",children:Object(a.jsxs)("div",{className:"row",children:[function(e){return Object(a.jsxs)("div",{className:"col-12 col-sm-6 mt-5",children:[Object(a.jsx)("h2",{className:"mb-4",children:"Cart"}),Object(a.jsx)("hr",{}),0===e.length&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Your cart is empty"}),Object(a.jsx)(o.b,{to:"/shop",children:Object(a.jsxs)("h5",{children:["Continue Shopping ",Object(a.jsx)("i",{className:"fa fa-hand-point-left"})]})})]}),0!==e.length&&e.map((function(e,t){return Object(a.jsx)("div",{className:"mb-4",children:Object(a.jsx)(H,{result:e,run:l,setRun:d})},t)})).reverse()]})}(c),Object(a.jsx)("div",{className:"col-12 col-sm-6 mt-5",children:Object(a.jsx)(Q,{products:c,setRun:d,run:l})})]})})};var X=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),i=Object(j.a)(r,2),l=i[0],d=i[1],m=Object(n.useState)(!1),h=Object(j.a)(m,2),O=h[0],p=h[1],f=u(),x=f.user,N=f.token,v=function(){var e,t;(e=x._id,t=N,fetch("".concat(b,"/order/list/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()}))).then((function(e){return s(e)})).catch((function(e){return console.log(e)}))},y=function(){var e,t;(e=x._id,t=N,fetch("".concat(b,"/order/status-value/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()}))).then((function(e){return d(e)})).catch((function(e){return console.log(e)}))};Object(n.useEffect)((function(){v(),y()}),[]);var k=function(e,t){return Object(a.jsxs)("div",{className:"input-group mb-2 mr-sm-2",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("div",{className:"input-group-text bg-dark",style:{color:"orange"},children:e})}),Object(a.jsx)("input",{type:"text",value:t,className:"form-control bg-dark",style:{color:"orange"},readOnly:!0})]})},S=function(e,t){(function(e,t,c,a){return fetch("".concat(b,"/order/").concat(c,"/status/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:a,orderId:c})}).then((function(e){return e.json()}))})(x._id,N,t,e.target.value).then((function(e){e.error?console.log("Status update failed"):v()}))},w=function(e){return Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsxs)("h3",{className:"mark mb-4",children:["Status : ",e.status]}),Object(a.jsxs)("select",{className:"form-control",onChange:function(t){return S(t,e._id)},children:[Object(a.jsx)("option",{children:"Update Status"}),l.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t)}))]})]})},C=function(){p(!O)},P=O?"show":"";return Object(a.jsxs)(g,{title:"Orders Page",description:"Node React Ecommerce",className:"container-fluid",children:[Object(a.jsxs)("div",{className:"card",children:[function(e){return e.length>0?Object(a.jsxs)("h3",{className:"card-header bg-dark",style:{color:"orange"},children:["Total Orders :",e.length]}):Object(a.jsx)("h3",{className:"card-header bg-dark",style:{color:"orange"},children:"No orders yet"})}(c),c.length>0&&c.map((function(e,t){return Object(a.jsxs)("div",{className:"card",style:{fontFamily:"cursive"},children:[Object(a.jsx)("h3",{className:"card-header bg-dark",style:{color:"orange"},onClick:C,"data-toggle":"collapse",children:Object(a.jsxs)("span",{className:"",children:["Order Id : ",e._id]})}),Object(a.jsxs)("div",{className:"card-body collapse"+P,children:[null!==e.user&&Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsxs)("li",{className:"list-group-item",children:["Status : ",w(e)]}),Object(a.jsxs)("li",{className:"list-group-item",children:["Transaction Id : ",e.transaction_id]}),Object(a.jsxs)("li",{className:"list-group-item",children:["Amount : \u20b9 ",e.amount]}),Object(a.jsxs)("li",{className:"list-group-item",children:["Ordered By : ",e.user.name]}),Object(a.jsxs)("li",{className:"list-group-item",children:["Ordered on : ",D()(e.createdAt).fromNow()]}),Object(a.jsxs)("li",{className:"list-group-item",children:["Delivery Address : ",e.address]})]}),Object(a.jsxs)("h3",{className:"mt-4 mb-4 font-italic",children:["Total products in the order : ",e.products.length]}),e.products.map((function(e,t){return Object(a.jsxs)("div",{className:"mb-4 card",style:{padding:"20px",fontFamily:"cursive"},children:[k("Product name",e.name),k("Product id",e._id),k("Product total",e.count),k("Product price",e.price)]},t)}))]})]},t)})).reverse()]}),Object(a.jsx)(o.b,{to:"/admin/dashboard",children:Object(a.jsx)("button",{className:"btn btn-dark ml-3 mt-3 ",style:{color:"orange"},children:"back"})})]})};var Z=function(e){var t=e.match,c=Object(n.useState)({name:"",email:"",error:!1,success:!1}),s=Object(j.a)(c,2),r=s[0],m=s[1],h=u().token,O=r.name,p=r.email,f=(r.error,r.success,function(e){(function(e,t){return fetch("".concat(b,"/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()}))})(e,h).then((function(e){e.error?m(Object(d.a)(Object(d.a)({},r),{},{error:!0})):m(Object(d.a)(Object(d.a)({},r),{},{name:e.name,email:e.email}))}))});Object(n.useEffect)((function(){f(t.params.userId)}),[]);var x=function(e){return function(t){m(Object(d.a)(Object(d.a)({},r),{},Object(l.a)({error:!1},e,t.target.value)))}},N=function(e){e.preventDefault(),function(e,t,c){return fetch("".concat(b,"/user/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()}))}(t.params.userId,h,{name:O,email:p}).then((function(e){e.error?console.log(e.error):function(e,t){if("undefined"!==typeof window&&localStorage.getItem("jwt")){var c=JSON.parse(localStorage.getItem("jwt"));c.user=e,localStorage.setItem("jwt",JSON.stringify(c)),t()}}(e,(function(){m(Object(d.a)(Object(d.a)({},r),{},{name:e.name,email:e.email,success:!0}))}))}))};return Object(a.jsxs)(g,{title:"User Page",description:"Node React Ecommerce",className:"container-fluid mb-5",children:[function(e,t){return Object(a.jsx)("div",{className:"card p-0",style:{fontFamily:"cursive"},children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h2",{className:"mb-4  bg-dark card-header",style:{fontWeight:"700",color:"orange"},children:"Profile Update"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Name"}),Object(a.jsx)("input",{type:"text",onChange:x("name"),value:e,className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Email"}),Object(a.jsx)("input",{type:"email",onChange:x("email"),value:t,className:"form-control"})]}),Object(a.jsx)("button",{onClick:N,className:"btn btn-dark",style:{color:"orange"},children:"Update"}),Object(a.jsx)(o.b,{to:"/user/dashboard",children:Object(a.jsx)("button",{className:"btn btn-dark ml-3",style:{color:"orange"},children:"back"})})]})]})})}(O,p),function(e){return Object(a.jsx)("div",{children:e&&Object(a.jsx)(i.a,{to:"/user/dashboard"})})}(r.success)]})};var $=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],r=u(),i=r.user,l=r.token,d=function(){fetch("".concat(b,"/products?limit=50"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):s(e)}))},m=function(e){(function(e,t,c){return fetch("".concat(b,"/product/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()}))})(e,i._id,l).then((function(e){e.error?console.log(e.error):d()}))};return Object(n.useEffect)((function(){d()}),[]),Object(a.jsxs)(g,{title:"Update product Page",description:"Node React Ecommerce",className:"container-fluid",children:[Object(a.jsx)("h2",{className:"mb-4",style:{fontWeight:"700"},children:"Update Products"}),Object(a.jsx)("div",{className:"row",style:{fontFamily:"cursive"},children:Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)("ul",{className:"list-group",children:c.map((function(e,t){return Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-item-center",children:[Object(a.jsx)("strong",{children:e.name}),Object(a.jsxs)(o.b,{to:"/admin/product/update/".concat(e._id),children:[Object(a.jsx)("span",{className:"badge badge-warning badge-pill",children:"Update"}),Object(a.jsx)("span",{className:"badge badge-danger badge-pill",onClick:function(){return m(e._id)},children:"Delete"})]})]},t)}))})})}),Object(a.jsx)(o.b,{to:"/admin/dashboard",children:Object(a.jsx)("button",{className:"btn btn-dark ml-3 mt-3",style:{color:"orange"},children:"back"})})]})},ee=function(e){var t=e.match,c=Object(n.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:!1,createdProduct:!1,redirectToProfile:!1,formData:""}),s=Object(j.a)(c,2),r=s[0],o=s[1],i=r.name,m=r.description,h=r.price,O=r.categories,p=(r.category,r.quantity),f=(r.loading,r.error),x=r.createdProduct,N=(r.redirectToProfile,r.formData),v=u(),y=v.user,k=v.token;Object(n.useEffect)((function(){S(t.params.productId)}),[]);var S=function(e){(function(e){return fetch("".concat(b,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()}))})(e).then((function(e){console.log(e),o(Object(d.a)(Object(d.a)({},r),{},{name:e.name,description:e.description,price:e.price,shipping:e.shipping,quantity:e.quantity,category:e.category._id,formData:new FormData})),w()})).catch((function(e){return console.log(e)}))},w=function(){fetch("".concat(b,"/category"),{method:"GET",header:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return o({categories:e,formData:new FormData})})).catch((function(e){return console.log(e)}))},C=function(e){e.preventDefault(),o(Object(d.a)(Object(d.a)({},r),{},{error:!0,createdProduct:!1,loading:!0})),function(e,t,c,a){return fetch("".concat(b,"/product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:a}).then((function(e){return e.json()}))}(t.params.productId,y._id,k,N).then((function(e){e.error?o(Object(d.a)(Object(d.a)({},r),{},{error:!0,createdProduct:!1})):o(Object(d.a)(Object(d.a)({},r),{},{name:"",description:"",error:!1,photo:"",price:"",quantity:"",loading:!1,createdProduct:!0,redirectToProfile:!0}))})).catch((function(e){return console.log(e)}))},P=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;N.set(e,c),o(Object(d.a)(Object(d.a)({},r),{},Object(l.a)({},e,c)))}};return Object(a.jsx)(g,{title:"Update Product",description:"Hello ".concat(y.name," , Ready to add a new product"),className:"container-fluid",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8 offset-md-2",children:[Object(a.jsx)("div",{className:"alert alert-danger",style:{display:f?"":"none"},children:"All fields are required!!!"}),Object(a.jsx)("div",{className:"alert alert-info",style:{display:x?"":"none"},children:Object(a.jsx)("h2",{children:"Product is updated"})}),Object(a.jsxs)("form",{className:"mb-3",onSubmit:C,children:[Object(a.jsx)("h4",{children:"Post Photo"}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("label",{className:"btn btn-secondary",children:Object(a.jsx)("input",{type:"file",onChange:P("photo"),name:"photo",accept:"image/*"})})}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Name"}),Object(a.jsx)("input",{type:"text",onChange:P("name"),className:"form-control",value:i})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Description"}),Object(a.jsx)("textarea",{onChange:P("description"),maxLength:"200",className:"form-control",value:m})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Price"}),Object(a.jsx)("input",{type:"number",onChange:P("price"),className:"form-control",value:h})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Category"}),Object(a.jsxs)("select",{onChange:P("category"),className:"form-control",children:[Object(a.jsx)("option",{children:"Please select"}),O&&O.map((function(e,t){return Object(a.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Shipping"}),Object(a.jsxs)("select",{onChange:P("shipping"),className:"form-control",children:[Object(a.jsx)("option",{children:"Please select"}),Object(a.jsx)("option",{value:"0",children:"No"}),Object(a.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"text-muted",children:"Quantity"}),Object(a.jsx)("input",{type:"number",onChange:P("quantity"),className:"form-control",value:p})]}),Object(a.jsx)("button",{className:"btn btn-dark",style:{color:"orange"},children:"Update Product"})]})]})})})};var te=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:"/signin",component:v}),Object(a.jsx)(i.b,{exact:!0,path:"/signup",component:N}),Object(a.jsx)(i.b,{exact:!0,path:"/",component:P}),Object(a.jsx)(i.b,{exact:!0,path:"/shop",component:G}),Object(a.jsx)(i.b,{exact:!0,path:"/cart",component:V}),Object(a.jsx)(i.b,{exact:!0,path:"/product/:productId",component:L}),Object(a.jsx)(A,{path:"/user/dashboard",exact:!0,component:_}),Object(a.jsx)(A,{path:"/profile/:userId",exact:!0,component:Z}),Object(a.jsx)(E,{path:"/admin/dashboard",exact:!0,component:F}),Object(a.jsx)(E,{path:"/admin/product/update/:productId",exact:!0,component:ee}),Object(a.jsx)(E,{path:"/admin/products",exact:!0,component:$}),Object(a.jsx)(E,{exact:!0,path:"/admin/orders",component:X}),Object(a.jsx)(E,{path:"/create/category",exact:!0,component:q}),Object(a.jsx)(E,{path:"/create/product",exact:!0,component:R})]})})};r.a.render(Object(a.jsx)(te,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.80b08b6b.chunk.js.map